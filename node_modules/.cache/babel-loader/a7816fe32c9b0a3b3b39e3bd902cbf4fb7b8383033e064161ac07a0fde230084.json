{"ast":null,"code":"import React,{useState}from'react';import{Container,Button,Segment,Header,Message}from'semantic-ui-react';import{useNavigate,useLocation}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{backApi}from'../misc/BackApi';import{handleLogError}from'../misc/Helpers';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ConfirmTransaction=()=>{var _location$state;const navigate=useNavigate();const location=useLocation();const{getUser}=useAuth();const[error,setError]=useState(null);const transactionDetails=(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.transactionDetails;const handleConfirmTransaction=async()=>{try{const user=getUser();await backApi.createTransaction(transactionDetails,user);navigate('/transactions/success');// Redirect to home or any other page\n}catch(error){handleLogError(error);setError(error.message);}};if(!transactionDetails){return/*#__PURE__*/_jsx(Message,{negative:true,children:\"No transaction details found.\"});}return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Segment,{children:[/*#__PURE__*/_jsx(Header,{as:\"h3\",children:\"Transaction Details\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"To Username:\"}),\" \",transactionDetails.toUsername]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Amount:\"}),\" \",transactionDetails.amount]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Currency:\"}),\" \",transactionDetails.currency]}),error&&/*#__PURE__*/_jsx(Message,{negative:true,children:error}),/*#__PURE__*/_jsx(Button,{color:\"violet\",onClick:handleConfirmTransaction,children:\"Confirm Transaction\"})]})});};export default ConfirmTransaction;","map":{"version":3,"names":["React","useState","Container","Button","Segment","Header","Message","useNavigate","useLocation","useAuth","backApi","handleLogError","jsx","_jsx","jsxs","_jsxs","ConfirmTransaction","_location$state","navigate","location","getUser","error","setError","transactionDetails","state","handleConfirmTransaction","user","createTransaction","message","negative","children","as","toUsername","amount","currency","color","onClick"],"sources":["/Users/timurinamkhojayev/Desktop/demo-crypto/order-ui/src/components/user/ConfirmTransaction.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Container, Button, Segment, Header, Message } from 'semantic-ui-react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { backApi } from '../misc/BackApi';\nimport { handleLogError } from '../misc/Helpers';\n\nconst ConfirmTransaction = () => {\n    const navigate = useNavigate();\n    const location = useLocation();\n    const { getUser } = useAuth();\n    const [error, setError] = useState(null);\n\n    const transactionDetails = location.state?.transactionDetails;\n\n    const handleConfirmTransaction = async () => {\n        try {\n            const user = getUser();\n            await backApi.createTransaction(transactionDetails, user);\n            navigate('/transactions/success'); // Redirect to home or any other page\n        } catch (error) {\n            handleLogError(error);\n            setError(error.message);\n        }\n    };\n\n    if (!transactionDetails) {\n        return <Message negative>No transaction details found.</Message>;\n    }\n\n    return (\n        <Container>\n            <Segment>\n                <Header as=\"h3\">Transaction Details</Header>\n                <p><strong>To Username:</strong> {transactionDetails.toUsername}</p>\n                <p><strong>Amount:</strong> {transactionDetails.amount}</p>\n                <p><strong>Currency:</strong> {transactionDetails.currency}</p>\n                {error && <Message negative>{error}</Message>}\n                <Button color='violet' onClick={handleConfirmTransaction}>Confirm Transaction</Button>\n            </Segment>\n        </Container>\n    );\n};\n\nexport default ConfirmTransaction;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,SAAS,CAAEC,MAAM,CAAEC,OAAO,CAAEC,MAAM,CAAEC,OAAO,KAAQ,mBAAmB,CAC/E,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,OAASC,OAAO,KAAQ,wBAAwB,CAChD,OAASC,OAAO,KAAQ,iBAAiB,CACzC,OAASC,cAAc,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjD,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,KAAAC,eAAA,CAC7B,KAAM,CAAAC,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAY,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEY,OAAQ,CAAC,CAAGX,OAAO,CAAC,CAAC,CAC7B,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGrB,QAAQ,CAAC,IAAI,CAAC,CAExC,KAAM,CAAAsB,kBAAkB,EAAAN,eAAA,CAAGE,QAAQ,CAACK,KAAK,UAAAP,eAAA,iBAAdA,eAAA,CAAgBM,kBAAkB,CAE7D,KAAM,CAAAE,wBAAwB,CAAG,KAAAA,CAAA,GAAY,CACzC,GAAI,CACA,KAAM,CAAAC,IAAI,CAAGN,OAAO,CAAC,CAAC,CACtB,KAAM,CAAAV,OAAO,CAACiB,iBAAiB,CAACJ,kBAAkB,CAAEG,IAAI,CAAC,CACzDR,QAAQ,CAAC,uBAAuB,CAAC,CAAE;AACvC,CAAE,MAAOG,KAAK,CAAE,CACZV,cAAc,CAACU,KAAK,CAAC,CACrBC,QAAQ,CAACD,KAAK,CAACO,OAAO,CAAC,CAC3B,CACJ,CAAC,CAED,GAAI,CAACL,kBAAkB,CAAE,CACrB,mBAAOV,IAAA,CAACP,OAAO,EAACuB,QAAQ,MAAAC,QAAA,CAAC,+BAA6B,CAAS,CAAC,CACpE,CAEA,mBACIjB,IAAA,CAACX,SAAS,EAAA4B,QAAA,cACNf,KAAA,CAACX,OAAO,EAAA0B,QAAA,eACJjB,IAAA,CAACR,MAAM,EAAC0B,EAAE,CAAC,IAAI,CAAAD,QAAA,CAAC,qBAAmB,CAAQ,CAAC,cAC5Cf,KAAA,MAAAe,QAAA,eAAGjB,IAAA,WAAAiB,QAAA,CAAQ,cAAY,CAAQ,CAAC,IAAC,CAACP,kBAAkB,CAACS,UAAU,EAAI,CAAC,cACpEjB,KAAA,MAAAe,QAAA,eAAGjB,IAAA,WAAAiB,QAAA,CAAQ,SAAO,CAAQ,CAAC,IAAC,CAACP,kBAAkB,CAACU,MAAM,EAAI,CAAC,cAC3DlB,KAAA,MAAAe,QAAA,eAAGjB,IAAA,WAAAiB,QAAA,CAAQ,WAAS,CAAQ,CAAC,IAAC,CAACP,kBAAkB,CAACW,QAAQ,EAAI,CAAC,CAC9Db,KAAK,eAAIR,IAAA,CAACP,OAAO,EAACuB,QAAQ,MAAAC,QAAA,CAAET,KAAK,CAAU,CAAC,cAC7CR,IAAA,CAACV,MAAM,EAACgC,KAAK,CAAC,QAAQ,CAACC,OAAO,CAAEX,wBAAyB,CAAAK,QAAA,CAAC,qBAAmB,CAAQ,CAAC,EACjF,CAAC,CACH,CAAC,CAEpB,CAAC,CAED,cAAe,CAAAd,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Container,Grid,Segment,Header,Form,Button,Dropdown,Message}from'semantic-ui-react';import{backApi}from'../misc/BackApi';import{useAuth}from'../context/AuthContext';import{handleLogError}from'../misc/Helpers';import Footer from\"../misc/Footer\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Wallet=()=>{const{getUser}=useAuth();const[user,setUser]=useState(null);const[wallet,setWallet]=useState(null);const[fromCurrency,setFromCurrency]=useState('');const[toCurrency,setToCurrency]=useState('');const[amount,setAmount]=useState('');const[exchangeError,setExchangeError]=useState(null);useEffect(()=>{const fetchData=async()=>{try{const user=getUser();setUser(user);const response=await backApi.getWalletById(user);setWallet(response.data);}catch(error){handleLogError(error);}};fetchData();},[getUser]);const handleExchange=async()=>{try{await backApi.transferCurrency(user,fromCurrency,toCurrency,amount);const response=await backApi.getWalletById(user);setWallet(response.data);setExchangeError(null);}catch(error){handleLogError(error);setExchangeError(error.message);}};if(!user||!wallet){return/*#__PURE__*/_jsx(Message,{children:\"Loading...\"});}const currencyOptions=[{key:'usd',value:'usd',text:'USD'},{key:'bitcoin',value:'bitcoin',text:'Bitcoin'},{key:'ethereum',value:'ethereum',text:'Ethereum'},{key:'binancecoin',value:'binancecoin',text:'BinanceCoin'},{key:'solana',value:'solana',text:'Solana'},{key:'ripple',value:'ripple',text:'Ripple'},{key:'tether',value:'tether',text:'Tether'},{key:'kzt',value:'kzt',text:'KZT'}];return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Segment,{children:[/*#__PURE__*/_jsx(Header,{as:\"h2\",children:\"Wallet\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",user.data.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Username:\"}),\" \",user.data.username]})]}),/*#__PURE__*/_jsxs(Segment,{children:[/*#__PURE__*/_jsx(Header,{as:\"h3\",children:\"Balance\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"USD:\"}),\" \",wallet.usd]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Bitcoin:\"}),\" \",wallet.bitcoin]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ethereum:\"}),\" \",wallet.ethereum]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"BinanceCoin:\"}),\" \",wallet.binancecoin]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Solana:\"}),\" \",wallet.solana]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ripple:\"}),\" \",wallet.ripple]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tether:\"}),\" \",wallet.tether]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"KZT:\"}),\" \",wallet.kzt]})]}),/*#__PURE__*/_jsxs(Segment,{children:[/*#__PURE__*/_jsx(Header,{as:\"h3\",children:\"Exchange Currency\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleExchange,children:[/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"From Currency\"}),/*#__PURE__*/_jsx(Dropdown,{placeholder:\"Select Currency\",fluid:true,selection:true,options:currencyOptions,value:fromCurrency,onChange:(e,_ref)=>{let{value}=_ref;return setFromCurrency(value);}})]}),/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"To Currency\"}),/*#__PURE__*/_jsx(Dropdown,{placeholder:\"Select Currency\",fluid:true,selection:true,options:currencyOptions,value:toCurrency,onChange:(e,_ref2)=>{let{value}=_ref2;return setToCurrency(value);}})]}),/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Amount\",type:\"number\",value:amount,onChange:e=>setAmount(e.target.value)})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"violet\",children:\"Exchange\"})]}),exchangeError&&/*#__PURE__*/_jsx(Message,{negative:true,children:exchangeError})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default Wallet;","map":{"version":3,"names":["React","useEffect","useState","Container","Grid","Segment","Header","Form","Button","Dropdown","Message","backApi","useAuth","handleLogError","Footer","jsx","_jsx","jsxs","_jsxs","Wallet","getUser","user","setUser","wallet","setWallet","fromCurrency","setFromCurrency","toCurrency","setToCurrency","amount","setAmount","exchangeError","setExchangeError","fetchData","response","getWalletById","data","error","handleExchange","transferCurrency","message","children","currencyOptions","key","value","text","as","email","username","usd","bitcoin","ethereum","binancecoin","solana","ripple","tether","kzt","onSubmit","Field","placeholder","fluid","selection","options","onChange","e","_ref","_ref2","type","target","color","negative"],"sources":["/Users/timurinamkhojayev/Desktop/demo-crypto/order-ui/src/components/user/Wallet.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Container, Grid, Segment, Header, Form, Button, Dropdown, Message } from 'semantic-ui-react';\nimport { backApi } from '../misc/BackApi';\nimport { useAuth } from '../context/AuthContext';\nimport { handleLogError } from '../misc/Helpers';\nimport Footer from \"../misc/Footer\";\n\nconst Wallet = () => {\n    const { getUser } = useAuth();\n    const [user, setUser] = useState(null);\n    const [wallet, setWallet] = useState(null);\n    const [fromCurrency, setFromCurrency] = useState('');\n    const [toCurrency, setToCurrency] = useState('');\n    const [amount, setAmount] = useState('');\n    const [exchangeError, setExchangeError] = useState(null);\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const user = getUser();\n                setUser(user);\n\n                const response = await backApi.getWalletById(user);\n                setWallet(response.data);\n            } catch (error) {\n                handleLogError(error);\n            }\n        };\n\n        fetchData();\n    }, [getUser]);\n\n    const handleExchange = async () => {\n        try {\n            await backApi.transferCurrency(user, fromCurrency, toCurrency, amount);\n            const response = await backApi.getWalletById(user);\n            setWallet(response.data);\n            setExchangeError(null);\n        } catch (error) {\n            handleLogError(error);\n            setExchangeError(error.message);\n        }\n    };\n\n    if (!user || !wallet) {\n        return <Message>Loading...</Message>;\n    }\n\n    const currencyOptions = [\n        { key: 'usd', value: 'usd', text: 'USD' },\n        { key: 'bitcoin', value: 'bitcoin', text: 'Bitcoin' },\n        { key: 'ethereum', value: 'ethereum', text: 'Ethereum' },\n        { key: 'binancecoin', value: 'binancecoin', text: 'BinanceCoin' },\n        { key: 'solana', value: 'solana', text: 'Solana' },\n        { key: 'ripple', value: 'ripple', text: 'Ripple' },\n        { key: 'tether', value: 'tether', text: 'Tether' },\n        { key: 'kzt', value: 'kzt', text: 'KZT' },\n    ];\n\n    return (\n        <Container>\n            <Segment>\n                <Header as=\"h2\">Wallet</Header>\n                <p><strong>Email:</strong> {user.data.email}</p>\n                <p><strong>Username:</strong> {user.data.username}</p>\n            </Segment>\n\n            <Segment>\n                <Header as=\"h3\">Balance</Header>\n                <p><strong>USD:</strong> {wallet.usd}</p>\n                <p><strong>Bitcoin:</strong> {wallet.bitcoin}</p>\n                <p><strong>Ethereum:</strong> {wallet.ethereum}</p>\n                <p><strong>BinanceCoin:</strong> {wallet.binancecoin}</p>\n                <p><strong>Solana:</strong> {wallet.solana}</p>\n                <p><strong>Ripple:</strong> {wallet.ripple}</p>\n                <p><strong>Tether:</strong> {wallet.tether}</p>\n                <p><strong>KZT:</strong> {wallet.kzt}</p>\n            </Segment>\n\n            <Segment>\n                <Header as=\"h3\">Exchange Currency</Header>\n                <Form onSubmit={handleExchange}>\n                    <Form.Field>\n                        <label>From Currency</label>\n                        <Dropdown\n                            placeholder=\"Select Currency\"\n                            fluid\n                            selection\n                            options={currencyOptions}\n                            value={fromCurrency}\n                            onChange={(e, { value }) => setFromCurrency(value)}\n                        />\n                    </Form.Field>\n                    <Form.Field>\n                        <label>To Currency</label>\n                        <Dropdown\n                            placeholder=\"Select Currency\"\n                            fluid\n                            selection\n                            options={currencyOptions}\n                            value={toCurrency}\n                            onChange={(e, { value }) => setToCurrency(value)}\n                        />\n                    </Form.Field>\n                    <Form.Field>\n                        <label>Amount</label>\n                        <input\n                            placeholder=\"Amount\"\n                            type=\"number\"\n                            value={amount}\n                            onChange={(e) => setAmount(e.target.value)}\n                        />\n                    </Form.Field>\n                    <Button type=\"submit\" color=\"violet\">Exchange</Button>\n                </Form>\n                {exchangeError && <Message negative>{exchangeError}</Message>}\n            </Segment>\n            <Footer />\n        </Container>\n    );\n};\n\nexport default Wallet;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
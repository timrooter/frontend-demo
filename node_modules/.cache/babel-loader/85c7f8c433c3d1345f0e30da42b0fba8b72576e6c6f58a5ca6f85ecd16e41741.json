{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Statistic,Icon,Grid,Container,Image,Segment,Dimmer,Loader}from'semantic-ui-react';import{Line}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend}from'chart.js';import{backApi}from'../misc/BackApi';import{handleLogError}from'../misc/Helpers';import Footer from\"../misc/Footer\";// Register necessary components from chart.js\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend);function Home(){const[numberOfUsers,setNumberOfUsers]=useState(0);const[isLoading,setIsLoading]=useState(true);const[bitcoinData,setBitcoinData]=useState([]);useEffect(()=>{async function fetchData(){try{const responseUsers=await backApi.numberOfUsers();const numberOfUsers=responseUsers.data;setNumberOfUsers(numberOfUsers);const responseBitcoin=await fetch('https://api.coindesk.com/v1/bpi/historical/close.json');const bitcoinData=await responseBitcoin.json();setBitcoinData(Object.entries(bitcoinData.bpi));}catch(error){handleLogError(error);}finally{setIsLoading(false);}}fetchData();},[]);if(isLoading){return/*#__PURE__*/_jsx(Segment,{basic:true,style:{marginTop:window.innerHeight/2},children:/*#__PURE__*/_jsx(Dimmer,{active:true,inverted:true,children:/*#__PURE__*/_jsx(Loader,{inverted:true,size:\"huge\",children:\"Loading\"})})});}const data={labels:bitcoinData.map(_ref=>{let[date]=_ref;return date;}),datasets:[{label:'Bitcoin Price',data:bitcoinData.map(_ref2=>{let[,price]=_ref2;return price;}),fill:false,backgroundColor:'rgba(75,192,192,0.4)',borderColor:'rgba(75,192,192,1)'}]};return/*#__PURE__*/_jsxs(Container,{text:true,children:[/*#__PURE__*/_jsx(Grid,{stackable:true,columns:1,children:/*#__PURE__*/_jsx(Grid.Row,{children:/*#__PURE__*/_jsx(Grid.Column,{textAlign:\"center\",children:/*#__PURE__*/_jsx(Segment,{color:\"violet\",children:/*#__PURE__*/_jsxs(Statistic,{children:[/*#__PURE__*/_jsxs(Statistic.Value,{children:[/*#__PURE__*/_jsx(Icon,{name:\"user\",color:\"grey\"}),numberOfUsers]}),/*#__PURE__*/_jsx(Statistic.Label,{children:\"Users\"})]})})})})}),/*#__PURE__*/_jsx(Image,{src:\"https://react.semantic-ui.com/images/wireframe/media-paragraph.png\",style:{marginTop:'2em'}}),/*#__PURE__*/_jsx(Image,{src:\"https://react.semantic-ui.com/images/wireframe/paragraph.png\",style:{marginTop:'2em'}}),/*#__PURE__*/_jsx(Footer,{})]});}export default Home;","map":{"version":3,"names":["React","useEffect","useState","Statistic","Icon","Grid","Container","Image","Segment","Dimmer","Loader","Line","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","backApi","handleLogError","Footer","jsx","_jsx","jsxs","_jsxs","register","Home","numberOfUsers","setNumberOfUsers","isLoading","setIsLoading","bitcoinData","setBitcoinData","fetchData","responseUsers","data","responseBitcoin","fetch","json","Object","entries","bpi","error","basic","style","marginTop","window","innerHeight","children","active","inverted","size","labels","map","_ref","date","datasets","label","_ref2","price","fill","backgroundColor","borderColor","text","stackable","columns","Row","Column","textAlign","color","Value","name","Label","src"],"sources":["/Users/timurinamkhojayev/Desktop/demo-crypto/order-ui/src/components/home/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Statistic, Icon, Grid, Container, Image, Segment, Dimmer, Loader } from 'semantic-ui-react';\nimport { Line } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\nimport { backApi } from '../misc/BackApi';\nimport { handleLogError } from '../misc/Helpers';\nimport Footer from \"../misc/Footer\";\n// Register necessary components from chart.js\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\n\nfunction Home() {\n  const [numberOfUsers, setNumberOfUsers] = useState(0);\n  const [isLoading, setIsLoading] = useState(true);\n  const [bitcoinData, setBitcoinData] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const responseUsers = await backApi.numberOfUsers();\n        const numberOfUsers = responseUsers.data;\n        setNumberOfUsers(numberOfUsers);\n\n        const responseBitcoin = await fetch('https://api.coindesk.com/v1/bpi/historical/close.json');\n        const bitcoinData = await responseBitcoin.json();\n        setBitcoinData(Object.entries(bitcoinData.bpi));\n      } catch (error) {\n        handleLogError(error);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    fetchData();\n  }, []);\n\n  if (isLoading) {\n    return (\n        <Segment basic style={{ marginTop: window.innerHeight / 2 }}>\n          <Dimmer active inverted>\n            <Loader inverted size='huge'>Loading</Loader>\n          </Dimmer>\n        </Segment>\n    );\n  }\n\n  const data = {\n    labels: bitcoinData.map(([date]) => date),\n    datasets: [\n      {\n        label: 'Bitcoin Price',\n        data: bitcoinData.map(([, price]) => price),\n        fill: false,\n        backgroundColor: 'rgba(75,192,192,0.4)',\n        borderColor: 'rgba(75,192,192,1)',\n      },\n    ],\n  };\n\n  return (\n      <Container text>\n        <Grid stackable columns={1}>\n          <Grid.Row>\n            <Grid.Column textAlign='center'>\n              <Segment color='violet'>\n                <Statistic>\n                  <Statistic.Value><Icon name='user' color='grey' />{numberOfUsers}</Statistic.Value>\n                  <Statistic.Label>Users</Statistic.Label>\n                </Statistic>\n              </Segment>\n            </Grid.Column>\n          </Grid.Row>\n          {/*<Grid.Row>*/}\n          {/*  <Grid.Column>*/}\n          {/*    <Segment>*/}\n          {/*      <Line data={data} />*/}\n          {/*    </Segment>*/}\n          {/*  </Grid.Column>*/}\n          {/*</Grid.Row>*/}\n        </Grid>\n\n        <Image src='https://react.semantic-ui.com/images/wireframe/media-paragraph.png' style={{ marginTop: '2em' }} />\n        <Image src='https://react.semantic-ui.com/images/wireframe/paragraph.png' style={{ marginTop: '2em' }} />\n\n        <Footer />\n      </Container>\n  );\n}\n\nexport default Home;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}